<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- PWAë¥¼ ìœ„í•œ ë©”íƒ€ íƒœê·¸ ì¶”ê°€ -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href="/manifest.json">

    <title>Win-Win-Log: B2B ì˜ì—… í†µí•© ë‹¤ì´ì–´ë¦¬</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .container {
            max-width: 1024px;
        }
        .bg-card {
            background-color: #ffffff;
            border-radius: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .nav-link {
            transition: all 0.2s ease-in-out;
            cursor: pointer;
        }
        .nav-link.active {
            color: #3b82f6;
            border-color: #3b82f6;
            font-weight: 600;
        }
        textarea.handwritten {
            font-family: 'Inter', sans-serif; /* í•„ê¸°ì²´ ëŠë‚Œì„ ìœ„í•´ */
            line-height: 1.5;
            min-height: 200px;
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 1rem;
            max-width: 90%;
            max-height: 90%;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        @media (min-width: 768px) {
            .nav-link:hover {
                color: #3b82f6;
            }
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <div class="container mx-auto">
        <!-- í—¤ë” ë° ë‚´ë¹„ê²Œì´ì…˜ -->
        <header class="flex flex-col md:flex-row items-center justify-between mb-8 md:mb-12">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4 md:mb-0">
                Win-Win-Log
            </h1>
            <!-- íƒ­ ë‚´ë¹„ê²Œì´ì…˜ -->
            <nav class="flex space-x-2 md:space-x-4">
                <a href="#" class="nav-link text-gray-500 px-4 py-2 border-b-2 border-transparent active" data-target="meeting-log">
                    <span class="text-sm md:text-lg">ë¯¸íŒ… ê¸°ë¡</span>
                </a>
                <a href="#" class="nav-link text-gray-500 px-4 py-2 border-b-2 border-transparent" data-target="records-list">
                    <span class="text-sm md:text-lg">ê¸°ë¡ ê´€ë¦¬</span>
                </a>
                <a href="#" class="nav-link text-gray-500 px-4 py-2 border-b-2 border-transparent" data-target="brainstorming">
                    <span class="text-sm md:text-lg">ë¸Œë ˆì¸ìŠ¤í† ë°</span>
                </a>
                <a href="#" class="nav-link text-gray-500 px-4 py-2 border-b-2 border-transparent" data-target="crm">
                    <span class="text-sm md:text-lg">ê³ ê° ê´€ê³„ë„</span>
                </a>
                <a href="#" class="nav-link text-gray-500 px-4 py-2 border-b-2 border-transparent" data-target="analysis">
                    <span class="text-sm md:text-lg">ì„±ê³µ/ì‹¤íŒ¨ ë¶„ì„</span>
                </a>
            </nav>
        </header>

        <!-- í…œí”Œë¦¿ ì½˜í…ì¸  ì„¹ì…˜ -->
        <main class="space-y-12">
            <!-- 1. ë¯¸íŒ… ê¸°ë¡ í…œí”Œë¦¿ (Create & Update) -->
            <section id="meeting-log" class="template-section bg-card p-6 md:p-12">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 text-gray-800">ë¯¸íŒ… ê¸°ë¡</h2>
                <!-- í˜„ì¬ ìˆ˜ì • ì¤‘ì¸ ê¸°ë¡ì˜ IDë¥¼ ì €ì¥í•˜ëŠ” ìˆ¨ê¹€ í•„ë“œ -->
                <input type="hidden" id="current-record-id">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- ê¸°ë³¸ ì •ë³´ -->
                    <div class="bg-gray-50 p-6 rounded-2xl shadow-inner">
                        <div class="space-y-4">
                            <div>
                                <label for="client-name" class="block text-sm md:text-base font-medium text-gray-600">ê³ ê°ì‚¬ëª…</label>
                                <input type="text" id="client-name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2" placeholder="ì˜ˆ: êµ¬ê¸€ ì½”ë¦¬ì•„">
                            </div>
                            <div>
                                <label for="contact-name" class="block text-sm md:text-base font-medium text-gray-600">ë‹´ë‹¹ì</label>
                                <input type="text" id="contact-name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2" placeholder="ì˜ˆ: í™ê¸¸ë™ íŒ€ì¥">
                            </div>
                            <div>
                                <label for="meeting-date" class="block text-sm md:text-base font-medium text-gray-600">ë¯¸íŒ… ë‚ ì§œ</label>
                                <input type="date" id="meeting-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2">
                            </div>
                            <div>
                                <label for="expected-deal" class="block text-sm md:text-base font-medium text-gray-600">ì˜ˆìƒ ê³„ì•½ ê¸ˆì•¡ (ë§Œì›)</label>
                                <input type="number" id="expected-deal" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2" placeholder="ì˜ˆ: 5000">
                            </div>
                            <div>
                                <label class="block text-sm md:text-base font-medium text-gray-600">ì˜ì—… ë‹¨ê³„</label>
                                <div class="mt-2 space-y-2">
                                    <label class="flex items-center"><input type="radio" name="sales-stage" value="lead" class="mr-2 text-blue-500 focus:ring-blue-500"> Lead (ë¦¬ë“œ)</label>
                                    <label class="flex items-center"><input type="radio" name="sales-stage" value="prospect" class="mr-2 text-blue-500 focus:ring-blue-500"> Prospect (íƒìƒ‰)</label>
                                    <label class="flex items-center"><input type="radio" name="sales-stage" value="proposal" class="mr-2 text-blue-500 focus:ring-blue-500"> Proposal (ì œì•ˆ)</label>
                                    <label class="flex items-center"><input type="radio" name="sales-stage" value="closing" class="mr-2 text-blue-500 focus:ring-blue-500"> Closing (ê³„ì•½)</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ë¯¸íŒ… ë‚´ìš© -->
                    <div class="space-y-6">
                        <div>
                            <label for="pain-point" class="block text-sm md:text-base font-medium text-gray-600">ê³ ê°ì˜ Pain Point (ê³ í†µì )</label>
                            <textarea id="pain-point" rows="4" class="handwritten mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-4" placeholder="ê³ ê°ì´ ê²ªê³  ìˆëŠ” í•µì‹¬ ë¬¸ì œë¥¼ ê¸°ë¡í•˜ì„¸ìš”."></textarea>
                        </div>
                        <div>
                            <label for="needs" class="block text-sm md:text-base font-medium text-gray-600">ê³ ê°ì˜ Needs & Goals (ë‹ˆì¦ˆ ë° ëª©í‘œ)</label>
                            <textarea id="needs" rows="4" class="handwritten mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-4" placeholder="ê³ ê°ì´ ê¶ê·¹ì ìœ¼ë¡œ ì–»ê³  ì‹¶ì€ ê²ƒì„ ê¸°ë¡í•˜ì„¸ìš”."></textarea>
                        </div>
                        <div>
                            <label for="competitor" class="block text-sm md:text-base font-medium text-gray-600">ê²½ìŸì‚¬ ê´€ë ¨ ì–¸ê¸‰</label>
                            <textarea id="competitor" rows="2" class="handwritten mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-4" placeholder="ê²½ìŸì‚¬ ì´ë¦„ ë° ê³ ê°ì˜ í‰ê°€ë¥¼ ê¸°ë¡í•˜ì„¸ìš”."></textarea>
                        </div>
                        <div>
                            <label for="next-action" class="block text-sm md:text-base font-medium text-gray-600">Next Action Plan (ë‹¤ìŒ í–‰ë™ ê³„íš)</label>
                            <textarea id="next-action" rows="4" class="handwritten mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-4" placeholder="ë¯¸íŒ… í›„ í•´ì•¼ í•  êµ¬ì²´ì ì¸ í–‰ë™ì„ ê¸°ë¡í•˜ì„¸ìš”."></textarea>
                        </div>
                    </div>
                </div>
                <div class="flex justify-end mt-8">
                    <button id="save-btn" class="bg-blue-600 text-white font-semibold py-3 px-6 rounded-full shadow-lg hover:bg-blue-700 transition duration-300">
                        ë¯¸íŒ… ê¸°ë¡ ì €ì¥
                    </button>
                    <button id="new-record-btn" class="ml-4 bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-full shadow-lg hover:bg-gray-400 transition duration-300">
                        ìƒˆ ê¸°ë¡ ì‘ì„±
                    </button>
                </div>
            </section>
            
            <!-- 2. ê¸°ë¡ ê´€ë¦¬ í…œí”Œë¦¿ (Read & Delete) -->
            <section id="records-list" class="template-section bg-card p-6 md:p-12 hidden">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 text-gray-800">ê¸°ë¡ ê´€ë¦¬</h2>
                <div id="records-container" class="space-y-4">
                    <!-- ì €ì¥ëœ ë¯¸íŒ… ê¸°ë¡ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
                <p id="no-records-message" class="text-gray-500 text-center mt-8 hidden">ì €ì¥ëœ ë¯¸íŒ… ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>
            </section>

            <!-- 3. ë¸Œë ˆì¸ìŠ¤í† ë° í…œí”Œë¦¿ -->
            <section id="brainstorming" class="template-section bg-card p-6 md:p-12 hidden">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 text-gray-800">ë¸Œë ˆì¸ìŠ¤í† ë°</h2>
                <div class="space-y-6">
                    <div>
                        <h3 class="text-xl font-semibold mb-2 text-gray-700">ë¬¸ì œ ì •ì˜ & í•µì‹¬ ì§ˆë¬¸</h3>
                        <p class="text-gray-500 text-sm mb-4">í•´ê²°í•´ì•¼ í•  í•µì‹¬ ë¬¸ì œë¥¼ ëª…í™•íˆ ì •ì˜í•˜ê³ , ì•„ì´ë””ì–´ë¥¼ ë°œì‚°í•˜ê¸° ìœ„í•œ ì§ˆë¬¸ì„ ë˜ì§€ì„¸ìš”.</p>
                        <textarea id="problem-define" rows="3" class="handwritten mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-4" placeholder="ë¬¸ì œ: &#10;ì§ˆë¬¸:"></textarea>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-2 text-gray-700">ì•„ì´ë””ì–´ ë°œì‚° (ë§ˆì¸ë“œë§µ)</h3>
                        <p class="text-gray-500 text-sm mb-4">ììœ ë¡­ê²Œ ì•„ì´ë””ì–´ë¥¼ ê¸°ë¡í•˜ê³ , ë§ˆì¸ë“œë§µì„ ê·¸ë¦¬ê±°ë‚˜ 5W1H ë°©ì‹ìœ¼ë¡œ ì‚¬ê³ ë¥¼ í™•ì¥í•˜ì„¸ìš”.</p>
                        <textarea id="ideas" rows="10" class="handwritten mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-4" placeholder="í•µì‹¬ ë¬¸ì œ &#10; â”œâ”€â”€ ì•„ì´ë””ì–´ 1 &#10; â”‚   â”œâ”€â”€ Why? &#10; â”‚   â””â”€â”€ How? &#10; â”œâ”€â”€ ì•„ì´ë””ì–´ 2 &#10; â””â”€â”€ ..."></textarea>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-2 text-gray-700">SWOT ë¶„ì„</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="p-4 bg-white rounded-lg border">
                                <h4 class="font-bold mb-2 text-blue-600">ê°•ì  (Strengths)</h4>
                                <textarea rows="3" class="w-full text-sm rounded-md border-gray-300 p-2" placeholder="ìš°ë¦¬ì˜ ê°•ì ì€?"></textarea>
                            </div>
                            <div class="p-4 bg-white rounded-lg border">
                                <h4 class="font-bold mb-2 text-red-600">ì•½ì  (Weaknesses)</h4>
                                <textarea rows="3" class="w-full text-sm rounded-md border-gray-300 p-2" placeholder="ìš°ë¦¬ì˜ ì•½ì ì€?"></textarea>
                            </div>
                            <div class="p-4 bg-white rounded-lg border">
                                <h4 class="font-bold mb-2 text-green-600">ê¸°íšŒ (Opportunities)</h4>
                                <textarea rows="3" class="w-full text-sm rounded-md border-gray-300 p-2" placeholder="ì‹œì¥ì˜ ê¸°íšŒëŠ”?"></textarea>
                            </div>
                            <div class="p-4 bg-white rounded-lg border">
                                <h4 class="font-bold mb-2 text-gray-600">ìœ„í˜‘ (Threats)</h4>
                                <textarea rows="3" class="w-full text-sm rounded-md border-gray-300 p-2" placeholder="ê²½ìŸì‚¬/ì‹œì¥ ìœ„í˜‘ì€?"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 4. ê³ ê° ê´€ê³„ë„ í…œí”Œë¦¿ -->
            <section id="crm" class="template-section bg-card p-6 md:p-12 hidden">
                <h2 class="text-2xl md:text-3xl font-bold mb-6 text-gray-800">ê³ ê° ê´€ê³„ë„</h2>
                <p class="text-gray-500 mb-6">ê³ ê°ì‚¬ ë‚´ ì£¼ìš” ì¸ë¬¼ë“¤ì˜ ì—­í• ê³¼ ê´€ê³„ë¥¼ ì‹œê°ì ìœ¼ë¡œ íŒŒì•…í•˜ì„¸ìš”.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- ì¸ë¬¼ ì¹´ë“œ í…œí”Œë¦¿ -->
                    <div class="bg-gray-50 p-4 rounded-2xl shadow-inner border border-gray-200">
                        <div class="flex items-center space-x-2 mb-2">
                            <span class="text-xl">ğŸ‘‘</span>
                            <input type="text" class="w-full text-lg font-bold p-1 rounded-md border-gray-300 focus:border-blue-500" placeholder="ì˜ì‚¬ê²°ì •ê¶Œì (Decision Maker)">
                        </div>
                        <input type="text" class="w-full text-sm p-1 rounded-md border-gray-300 focus:border-blue-500" placeholder="ì§ìœ„: ì˜ˆ) ìƒë¬´ì´ì‚¬">
                        <textarea rows="2" class="w-full mt-2 text-sm p-1 rounded-md border-gray-300 focus:border-blue-500" placeholder="í•µì‹¬ ì—­í• ê³¼ ê´€ì‹¬ì‚¬"></textarea>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-2xl shadow-inner border border-gray-200">
                        <div class="flex items-center space-x-2 mb-2">
                            <span class="text-xl">ğŸ’¡</span>
                            <input type="text" class="w-full text-lg font-bold p-1 rounded-md border-gray-300 focus:border-blue-500" placeholder="ë‚´ë¶€ ì±”í”¼ì–¸ (Champion)">
                        </div>
                        <input type="text" class="w-full text-sm p-1 rounded-md border-gray-300 focus:border-blue-500" placeholder="ì§ìœ„: ì˜ˆ) êµ¬ë§¤ ë‹´ë‹¹ì">
                        <textarea rows="2" class="w-full mt-2 text-sm p-1 rounded-md border-gray-300 focus:border-blue-500" placeholder="ìš°ë¦¬ í¸ì— ì„œ ìˆëŠ” ì´ìœ ì™€ í˜‘ë ¥ ë°©ì•ˆ"></textarea>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-2xl shadow-inner border border-gray-200">
                        <div class="flex items-center space-x-2 mb-2">
                            <span class="text-xl">ğŸ—£ï¸</span>
                            <input type="text" class="w-full text-lg font-bold p-1 rounded-md border-gray-300 focus:border-blue-500" placeholder="ì˜í–¥ë ¥ í–‰ì‚¬ì (Influencer)">
                        </div>
                        <input type="text" class="w-full text-sm p-1 rounded-md border-gray-300 focus:border-blue-500" placeholder="ì§ìœ„: ì˜ˆ) ì‹¤ë¬´ íŒ€ì›">
                        <textarea rows="2" class="w-full mt-2 text-sm p-1 rounded-md border-gray-300 focus:border-blue-500" placeholder="ê·¸ë“¤ì˜ ì˜ê²¬ì´ ì˜ì‚¬ê²°ì •ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ë ¥"></textarea>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-2xl shadow-inner border border-gray-200">
                        <div class="flex items-center space-x-2 mb-2">
                            <span class="text-xl">ğŸš§</span>
                            <input type="text" class="w-full text-lg font-bold p-1 rounded-md border-gray-300 focus:border-blue-500" placeholder="ì ì¬ì  ë°˜ëŒ€ì (Blocker)">
                        </div>
                        <input type="text" class="w-full text-sm p-1 rounded-md border-gray-300 focus:border-blue-500" placeholder="ì§ìœ„: ì˜ˆ) ê¸°ìˆ  ë‹´ë‹¹ì">
                        <textarea rows="2" class="w-full mt-2 text-sm p-1 rounded-md border-gray-300 focus:border-blue-500" placeholder="ë°˜ëŒ€ ì´ìœ ì™€ ìš°ë ¤ ì‚¬í•­"></textarea>
                            </div>
                        </div>
                    </section>
        
                    <!-- 5. ì„±ê³µ/ì‹¤íŒ¨ ë¶„ì„ í…œí”Œë¦¿ -->
                    <section id="analysis" class="template-section bg-card p-6 md:p-12 hidden">
                        <h2 class="text-2xl md:text-3xl font-bold mb-6 text-gray-800">ì„±ê³µ/ì‹¤íŒ¨ ë¶„ì„</h2>
                        <div class="space-y-6">
                            <div>
                                <h3 class="text-xl font-semibold mb-2 text-gray-700">ì‚¬ë¡€ ê°œìš”</h3>
                                <p class="text-gray-500 text-sm mb-2">ì–´ë–¤ ìœ í˜•ì˜ ì‚¬ë¡€ì¸ì§€ ì„ íƒí•˜ì„¸ìš”.</p>
                                <div class="mt-2 space-x-4">
                                    <label class="inline-flex items-center">
                                        <input type="radio" name="case-type" value="success" class="text-blue-500 focus:ring-blue-500">
                                        <span class="ml-2 text-sm md:text-base">ì„±ê³µ ì‚¬ë¡€</span>
                                    </label>
                                    <label class="inline-flex items-center">
                                        <input type="radio" name="case-type" value="failure" class="text-blue-500 focus:ring-blue-500">
                                        <span class="ml-2 text-sm md:text-base">ì‹¤íŒ¨ ì‚¬ë¡€</span>
                                    </label>
                                </div>
                                <textarea id="case-summary" rows="3" class="handwritten mt-4 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-4" placeholder="ê³ ê°ì‚¬ëª…, ê³„ì•½ ê·œëª¨, ì£¼ìš” ì´ìŠˆë¥¼ ìš”ì•½í•˜ì„¸ìš”."></textarea>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold mb-2 text-gray-700">í•µì‹¬ ì›ì¸ ë¶„ì„</h3>
                                <p class="text-gray-500 text-sm mb-2">ì„±ê³µ ë˜ëŠ” ì‹¤íŒ¨ì— ê²°ì •ì ì¸ ì˜í–¥ì„ ë¯¸ì¹œ ìš”ì¸ë“¤ì„ ë¶„ì„í•˜ì„¸ìš”.</p>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <textarea id="my-action" rows="5" class="handwritten mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-4" placeholder="ë‚˜ì˜ í–‰ë™: ë‚´ê°€ ì˜í–ˆê±°ë‚˜ ë¶€ì¡±í–ˆë˜ ì ì€?"></textarea>
                                    <textarea id="customer-side" rows="5" class="handwritten mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-4" placeholder="ê³ ê° ì¸¡ ìš”ì¸: ê³ ê°ì‚¬ì˜ ë‚´ë¶€/ì™¸ë¶€ í™˜ê²½ ë³€í™”ëŠ”?"></textarea>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold mb-2 text-gray-700">ì–»ì€ ì¸ì‚¬ì´íŠ¸</h3>
                                <p class="text-gray-500 text-sm mb-2">ì´ë²ˆ ì‚¬ë¡€ë¥¼ í†µí•´ ë°°ìš´ ê°€ì¥ ì¤‘ìš”í•œ êµí›ˆì€ ë¬´ì—‡ì¸ê°€ìš”?</p>
                                <textarea id="insight" rows="5" class="handwritten mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-4" placeholder="ë‹¤ìŒ ë²ˆì— ì ìš©í•  êµ¬ì²´ì ì¸ ì „ëµì´ë‚˜ êµí›ˆì„ ê¸°ë¡í•˜ì„¸ìš”."></textarea>
                            </div>
                        </div>
                    </section>
                </main>
            </div>
        
            <!-- ì¡°íšŒ ëª¨ë‹¬ -->
            <div id="view-modal" class="modal-overlay hidden">
                <div class="modal-content">
                    <button class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl" onclick="closeModal()">
                        &times;
                    </button>
                    <h3 class="text-2xl font-bold mb-4">ë¯¸íŒ… ê¸°ë¡ ìƒì„¸ ì •ë³´</h3>
                    <div id="modal-details" class="space-y-4">
                        <!-- ë™ì ìœ¼ë¡œ ë‚´ìš©ì´ ì±„ì›Œì§ˆ ì˜ì—­ -->
                    </div>
                </div>
            </div>
        
            <!-- JavaScript -->
            <script>
                // Service Worker ë“±ë¡
                if ('serviceWorker' in navigator) {
                    window.addEventListener('load', () => {
                        navigator.serviceWorker.register('/service-worker.js').then(registration => {
                            console.log('Service Worker registered with scope:', registration.scope);
                        }).catch(error => {
                            console.log('Service Worker registration failed:', error);
                        });
                    });
                }

                document.addEventListener('DOMContentLoaded', () => {
                    const navLinks = document.querySelectorAll('.nav-link');
                    const sections = document.querySelectorAll('.template-section');
                    const saveBtn = document.getElementById('save-btn');
                    const newRecordBtn = document.getElementById('new-record-btn');
                    const recordsContainer = document.getElementById('records-container');
                    const noRecordsMessage = document.getElementById('no-records-message');
                    const viewModal = document.getElementById('view-modal');
                    const modalDetails = document.getElementById('modal-details');
        
                    const meetingFormElements = {
                        id: document.getElementById('current-record-id'),
                        clientName: document.getElementById('client-name'),
                        contactName: document.getElementById('contact-name'),
                        meetingDate: document.getElementById('meeting-date'),
                        expectedDeal: document.getElementById('expected-deal'),
                        salesStage: document.querySelectorAll('input[name="sales-stage"]'),
                        painPoint: document.getElementById('pain-point'),
                        needs: document.getElementById('needs'),
                        competitor: document.getElementById('competitor'),
                        nextAction: document.getElementById('next-action')
                    };
        
                    // íƒ­ ì „í™˜ ë¡œì§
                    navLinks.forEach(link => {
                        link.addEventListener('click', (event) => {
                            event.preventDefault();
                            navLinks.forEach(item => item.classList.remove('active'));
                            event.currentTarget.classList.add('active');
                            sections.forEach(section => section.classList.add('hidden'));
                            const targetId = event.currentTarget.getAttribute('data-target');
                            document.getElementById(targetId).classList.remove('hidden');
        
                            if (targetId === 'records-list') {
                                loadMeetingsList();
                            }
                        });
                    });
        
                    // ì €ì¥ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
                    saveBtn.addEventListener('click', () => {
                        const meetingData = collectMeetingData();
                        if (meetingData) {
                            saveMeeting(meetingData);
                            alert('ë¯¸íŒ… ê¸°ë¡ì´ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
                            clearMeetingForm();
                            document.querySelector('[data-target="records-list"]').click();
                        } else {
                            alert('ê³ ê°ì‚¬ëª… ë˜ëŠ” ë‹´ë‹¹ìëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                        }
                    });
        
                    // ìƒˆ ê¸°ë¡ ì‘ì„± ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
                    newRecordBtn.addEventListener('click', () => {
                        clearMeetingForm();
                        alert('ìƒˆ ë¯¸íŒ… ê¸°ë¡ì„ ì‘ì„±í•©ë‹ˆë‹¤.');
                    });
        
                    // í¼ ë°ì´í„° ìˆ˜ì§‘ í•¨ìˆ˜ (ID ìœ ë¬´ì— ë”°ë¼ Update ë˜ëŠ” Create ê²°ì •)
                    function collectMeetingData() {
                        const clientName = meetingFormElements.clientName.value.trim();
                        const contactName = meetingFormElements.contactName.value.trim();
        
                        if (!clientName || !contactName) {
                            return null;
                        }
        
                        const id = meetingFormElements.id.value || Date.now().toString();
                        const selectedStage = Array.from(meetingFormElements.salesStage).find(radio => radio.checked)?.value || '';
        
                        return {
                            id: id,
                            clientName: clientName,
                            contactName: contactName,
                            meetingDate: meetingFormElements.meetingDate.value,
                            expectedDeal: meetingFormElements.expectedDeal.value,
                            salesStage: selectedStage,
                            painPoint: meetingFormElements.painPoint.value,
                            needs: meetingFormElements.needs.value,
                            competitor: meetingFormElements.competitor.value,
                            nextAction: meetingFormElements.nextAction.value
                        };
                    }
        
                    // í¼ í•„ë“œ ì´ˆê¸°í™” í•¨ìˆ˜
                    function clearMeetingForm() {
                        meetingFormElements.id.value = ''; // ID í•„ë“œ ì´ˆê¸°í™”
                        meetingFormElements.clientName.value = '';
                        meetingFormElements.contactName.value = '';
                        meetingFormElements.meetingDate.value = '';
                        meetingFormElements.expectedDeal.value = '';
                        meetingFormElements.painPoint.value = '';
                        meetingFormElements.needs.value = '';
                        meetingFormElements.competitor.value = '';
                        meetingFormElements.nextAction.value = '';
                        meetingFormElements.salesStage.forEach(radio => radio.checked = false);
                    }
        
                    // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ë°ì´í„° ì €ì¥/ì—…ë°ì´íŠ¸
                    function saveMeeting(data) {
                        let meetings = JSON.parse(localStorage.getItem('b2b-meetings')) || {};
                        meetings[data.id] = data;
                        localStorage.setItem('b2b-meetings', JSON.stringify(meetings));
                    }
        
                    // ì €ì¥ëœ ë¯¸íŒ… ëª©ë¡ì„ í™”ë©´ì— í‘œì‹œ
                    function loadMeetingsList() {
                        recordsContainer.innerHTML = '';
                        const meetings = JSON.parse(localStorage.getItem('b2b-meetings')) || {};
                        const meetingKeys = Object.keys(meetings).sort().reverse();
        
                        if (meetingKeys.length === 0) {
                            noRecordsMessage.classList.remove('hidden');
                        } else {
                            noRecordsMessage.classList.add('hidden');
                            meetingKeys.forEach(key => {
                                const meeting = meetings[key];
                                const recordItem = document.createElement('div');
                                recordItem.className = 'flex flex-col md:flex-row items-start md:items-center justify-between bg-gray-100 p-4 rounded-xl shadow-sm border border-gray-200';
                                recordItem.innerHTML = `
                                    <div>
                                        <h4 class="font-bold text-lg text-gray-800">${meeting.clientName} - ${meeting.contactName}</h4>
                                        <p class="text-sm text-gray-500">ë‚ ì§œ: ${meeting.meetingDate || 'ë¯¸ìƒ'}</p>
                                    </div>
                                    <div class="mt-4 md:mt-0 md:ml-4 flex space-x-2">
                                        <button class="view-btn bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 transition" data-id="${meeting.id}">ìƒì„¸ ë³´ê¸°</button>
                                        <button class="edit-btn bg-yellow-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-yellow-600 transition" data-id="${meeting.id}">ìˆ˜ì •</button>
                                        <button class="delete-btn bg-red-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-red-600 transition" data-id="${meeting.id}">ì‚­ì œ</button>
                                    </div>
                                `;
                                recordsContainer.appendChild(recordItem);
                            });
        
                            // ë™ì ìœ¼ë¡œ ìƒì„±ëœ ë²„íŠ¼ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
                            document.querySelectorAll('.view-btn').forEach(button => {
                                button.addEventListener('click', (event) => {
                                    const meetingId = event.target.getAttribute('data-id');
                                    showDetailsModal(meetingId);
                                });
                            });
        
                            document.querySelectorAll('.edit-btn').forEach(button => {
                                button.addEventListener('click', (event) => {
                                    const meetingId = event.target.getAttribute('data-id');
                                    loadMeeting(meetingId);
                                    document.querySelector('[data-target="meeting-log"]').click();
                                });
                            });
        
                            document.querySelectorAll('.delete-btn').forEach(button => {
                                button.addEventListener('click', (event) => {
                                    const meetingId = event.target.getAttribute('data-id');
                                    if (confirm('ì •ë§ë¡œ ì´ ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                                        deleteMeeting(meetingId);
                                        loadMeetingsList();
                                    }
                                });
                            });
                        }
                    }
        
                    // íŠ¹ì • ë¯¸íŒ… ê¸°ë¡ì„ í¼ì— ë¶ˆëŸ¬ì˜¤ê¸° (ìˆ˜ì • ê¸°ëŠ¥)
                    function loadMeeting(id) {
                        const meetings = JSON.parse(localStorage.getItem('b2b-meetings'));
                        if (meetings && meetings[id]) {
                            const data = meetings[id];
                            meetingFormElements.id.value = data.id; // ID ì €ì¥
                            meetingFormElements.clientName.value = data.clientName;
                            meetingFormElements.contactName.value = data.contactName;
                            meetingFormElements.meetingDate.value = data.meetingDate;
                            meetingFormElements.expectedDeal.value = data.expectedDeal;
                            meetingFormElements.painPoint.value = data.painPoint;
                            meetingFormElements.needs.value = data.needs;
                            meetingFormElements.competitor.value = data.competitor;
                            meetingFormElements.nextAction.value = data.nextAction;
        
                            meetingFormElements.salesStage.forEach(radio => {
                                if (radio.value === data.salesStage) {
                                    radio.checked = true;
                                }
                            });
                        }
                    }
        
                    // íŠ¹ì • ë¯¸íŒ… ê¸°ë¡ì„ ì‚­ì œ
                    function deleteMeeting(id) {
                        const meetings = JSON.parse(localStorage.getItem('b2b-meetings'));
                        if (meetings && meetings[id]) {
                            delete meetings[id];
                            localStorage.setItem('b2b-meetings', JSON.stringify(meetings));
                            alert('ê¸°ë¡ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
                        }
                    }
        
                    // ìƒì„¸ ë³´ê¸° ëª¨ë‹¬ í‘œì‹œ
                    function showDetailsModal(id) {
                        const meetings = JSON.parse(localStorage.getItem('b2b-meetings'));
                        const data = meetings[id];
                        if (data) {
                            modalDetails.innerHTML = `
                                <p class="text-gray-500 text-sm mb-1">ê³ ê°ì‚¬ëª…: <span class="text-gray-800 font-semibold">${data.clientName}</span></p>
                                <p class="text-gray-500 text-sm mb-1">ë‹´ë‹¹ì: <span class="text-gray-800 font-semibold">${data.contactName}</span></p>
                                <p class="text-gray-500 text-sm mb-1">ë¯¸íŒ… ë‚ ì§œ: <span class="text-gray-800 font-semibold">${data.meetingDate || 'ë¯¸ìƒ'}</span></p>
                                <p class="text-gray-500 text-sm mb-1">ì˜ì—… ë‹¨ê³„: <span class="text-gray-800 font-semibold">${data.salesStage || 'ë¯¸ìƒ'}</span></p>
                                <hr class="my-4">
                                <h4 class="font-bold text-gray-700 mb-2">ê³ ê°ì˜ Pain Point</h4>
                                <p class="whitespace-pre-wrap">${data.painPoint || 'ì—†ìŒ'}</p>
                                <h4 class="font-bold text-gray-700 mb-2 mt-4">ê³ ê°ì˜ Needs & Goals</h4>
                                <p class="whitespace-pre-wrap">${data.needs || 'ì—†ìŒ'}</p>
                                <h4 class="font-bold text-gray-700 mb-2 mt-4">ê²½ìŸì‚¬ ì–¸ê¸‰</h4>
                                <p class="whitespace-pre-wrap">${data.competitor || 'ì—†ìŒ'}</p>
                                <h4 class="font-bold text-gray-700 mb-2 mt-4">ë‹¤ìŒ í–‰ë™ ê³„íš</h4>
                                <p class="whitespace-pre-wrap">${data.nextAction || 'ì—†ìŒ'}</p>
                            `;
                            viewModal.classList.remove('hidden');
                        }
                    }
        
                    window.closeModal = () => {
                        viewModal.classList.add('hidden');
                    };
                });
            </script>
</body>
</html>
